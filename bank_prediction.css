/* bank_prediction.css */

/* --- 關鍵修正 1: 覆蓋 style.css 的全域設定 --- */
/* 這是讓右側能填滿的關鍵，解除原本的主內容 Grid 限制 */
.main-content {
    display: block !important; 
    width: 100%;
    max-width: 100%;
    padding: 40px;
}

/* --- 佈局系統 (Dashboard Layout) --- */
.dashboard-layout {
    display: grid;
    /* 左側固定 320px，右側自動填滿 (使用 minmax 防止溢出) */
    grid-template-columns: 320px minmax(0, 1fr); 
    gap: 30px; /* 增加一點間距讓畫面更舒適 */
    align-items: start;
    width: 100%;
    margin-bottom: 20px; /* 增加一點底部距離，避免區塊太擠 */
}

/* 左側欄位 */
.layout-left {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* --- 關鍵修正 2: 右側欄位容器 --- */
.layout-right {
    display: flex;
    flex-direction: column; /* 確保內部區塊上下排列 */
    gap: 25px;
    width: 100%;            /* 強制佔滿剩餘空間 */
    min-width: 0;          /* 防止 Flex 子元素內容過長導致破版 */
}

/* --- 關鍵修正 3: 結果區塊 (預測結果 + SHAP) --- */
.result-grid {
    display: grid;
    /* 強制單欄排列，讓卡片上下堆疊 */
    grid-template-columns: 1fr; 
    gap: 25px;
    width: 100%;
}

/* 強制右側所有卡片填滿寬度 */
.layout-right .card {
    width: 100%;
    box-sizing: border-box; 
}

/* 批次分析結果區塊也要填滿 */
#batchResultSection {
    width: 100%;
    display: none; /* 預設隱藏，由 JS 開啟 */
}

/* --- 預測結果圖表 (甜甜圈圖) --- */
.score-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
}

.score-card canvas {
    /* 圖表本身限制最大寬度，避免變成巨大的橢圓，但卡片背景是滿版的 */
    max-width: 350px; 
    width: 100%;
    margin: 0 auto;
    display: block;
}

/* --- SHAP 圖表容器 --- */
.shap-container {
    width: 100%;
    min-height: 400px; 
    position: relative;
}

/* --- RWD 手機版適配 --- */
@media (max-width: 1000px) {
    .dashboard-layout {
        grid-template-columns: 1fr; /* 變回單欄，左右變上下 */
    }
    
    .main-content {
        padding: 20px; /* 手機版內縮減少 */
    }
}