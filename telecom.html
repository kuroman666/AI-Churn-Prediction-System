<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>電信客戶流失預測 | Telecom Churn AI</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="telecom.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <nav class="sidebar">
        <div class="brand" style="color: var(--primary);">
            <i class="fa-solid fa-tower-broadcast"></i> Telecom AI
        </div>
        <a href="#" class="menu-item active"><i class="fa-solid fa-signal"></i> 預測儀表板</a>
        <a href="#" class="menu-item"><i class="fa-solid fa-file-contract"></i> 合約分析</a>
        <a href="index.html" class="back-home"><i class="fa-solid fa-arrow-left"></i> 返回入口首頁</a>
    </nav>

    <main class="main-content">
        <header>
            <h1>電信客戶流失預測</h1>
            <p class="subtitle">輸入客戶特徵參數，AI 模型將即時計算流失機率。</p>
        </header>

        <section class="input-section">
            <div class="card">
                <div class="card-header"><i class="fa-solid fa-sliders"></i> 客戶特徵參數</div>
                <form id="telecomForm">
                    <div class="form-group" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-section-title"><i class="fa-solid fa-user"></i> 基本資料</div>
                        <div>
                            <label>性別</label>
                            <select id="gender">
                                <option value="Female">Female</option>
                                <option value="Male">Male</option>
                            </select>
                        </div>
                        <div>
                            <label>老年用戶</label>
                            <select id="SeniorCitizen">
                                <option value="0">0 (No)</option>
                                <option value="1">1 (Yes)</option>
                            </select>
                        </div>
                        <div><label>伴侶</label><select id="Partner"><option value="Yes">Yes</option><option value="No">No</option></select></div>
                        <div><label>親屬</label><select id="Dependents"><option value="Yes">Yes</option><option value="No">No</option></select></div>
                        <div style="grid-column: 1 / -1;"><label>在網時長 (0-72月)</label><input type="number" id="tenure" value="12" min="0" max="72"></div>
                    </div>

                    <div class="form-group" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-section-title"><i class="fa-solid fa-wifi"></i> 服務項目</div>
                        <div><label>電話服務</label><select id="PhoneService"><option value="Yes">Yes</option><option value="No">No</option></select></div>
                        <div><label>多線業務</label><select id="MultipleLines"><option value="Yes">Yes</option><option value="No">No</option><option value="No phone service">No phone service</option></select></div>
                        <div style="grid-column: 1 / -1;"><label>網路服務</label><select id="InternetService"><option value="Fiber optic">Fiber optic</option><option value="DSL">DSL</option><option value="No">No</option></select></div>
                        <div><label>網路安全</label><select id="OnlineSecurity"><option value="No">No</option><option value="Yes">Yes</option><option value="No internet service">No service</option></select></div>
                        <div><label>線上備份</label><select id="OnlineBackup"><option value="No">No</option><option value="Yes">Yes</option><option value="No internet service">No service</option></select></div>
                        <div><label>設備保護</label><select id="DeviceProtection"><option value="No">No</option><option value="Yes">Yes</option><option value="No internet service">No service</option></select></div>
                        <div><label>技術支援</label><select id="TechSupport"><option value="No">No</option><option value="Yes">Yes</option><option value="No internet service">No service</option></select></div>
                        <div><label>網路電視</label><select id="StreamingTV"><option value="No">No</option><option value="Yes">Yes</option><option value="No internet service">No service</option></select></div>
                        <div><label>網路電影</label><select id="StreamingMovies"><option value="No">No</option><option value="Yes">Yes</option><option value="No internet service">No service</option></select></div>
                    </div>

                    <div class="form-group" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-section-title"><i class="fa-solid fa-file-invoice-dollar"></i> 合約與帳務</div>
                        <div style="grid-column: 1 / -1;"><label>合約方式</label><select id="Contract"><option value="Month-to-month">Month-to-month</option><option value="One year">One year</option><option value="Two year">Two year</option></select></div>
                        <div><label>電子帳單</label><select id="PaperlessBilling"><option value="Yes">Yes</option><option value="No">No</option></select></div>
                        <div><label>付款方式</label><select id="PaymentMethod"><option value="Electronic check">Electronic check</option><option value="Mailed check">Mailed check</option><option value="Bank transfer (automatic)">Bank transfer</option><option value="Credit card (automatic)">Credit card</option></select></div>
                        <div><label>月費用</label><input type="number" id="MonthlyCharges" value="70.35"></div>
                        <div><label>總費用</label><input type="number" id="TotalCharges" value="1390.5"></div>
                    </div>

                    <button type="button" class="btn-predict" onclick="predictTelecomChurn()">
                        <i class="fa-solid fa-satellite-dish"></i> 執行電信 AI 預測
                    </button>
                </form>
            </div>
        </section>

        <section class="result-container" id="resultSection">
            <div class="card score-card">
                <div class="card-header" style="justify-content: center; border: none;">流失機率預測</div>
                <div id="riskBadge" class="risk-badge risk-low">等待分析...</div>
                <div class="probability-value" id="probValue">--%</div>
                <p style="color: var(--text-sub);">預測該用戶下個月離網機率</p>
                <div style="height: 200px; margin-top: 20px;">
                    <canvas id="churnChart"></canvas>
                </div>
            </div>
            <div class="card">
                <div class="card-header"><i class="fa-solid fa-list-check"></i> 關鍵因子分析</div>
                <ul class="factors-list" id="factorsList"></ul>
                <div class="suggestion-box">
                    <h4 style="color: var(--primary); margin-bottom: 5px; font-size: 14px;">💡 建議</h4>
                    <p style="font-size: 14px; color: #cbd5e1;" id="suggestionText">系統建議...</p>
                </div>
            </div>
        </section>
    </main>

    <script src="telecom.js"></script>
</body>
</html>